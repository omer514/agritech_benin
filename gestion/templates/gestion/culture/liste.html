{% extends "gestion/base.html" %}

{% block header %}Gestion des Cultures{% endblock %}

{% block content %}
<div class="card shadow-sm p-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h5 class="fw-bold">Liste des produits autorisés</h5>
        <a href="{% url 'ajouter_culture' %}" class="btn btn-success rounded-pill">
            <i class="bi bi-plus-circle me-2"></i> Ajouter une culture
        </a>
    </div>

    <table class="table align-middle">
        <thead class="table-light">
            <tr>
                <th>Nom de la culture</th>
                <th class="text-end">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for c in cultures %}
            <tr>
                <td class="fw-bold">{{ c.nom }}</td>
                <td class="text-end">
                    <form action="{% url 'supprimer_culture' c.id %}" method="POST" style="display:inline;">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-outline-danger btn-sm" onclick="return confirm('Supprimer cette culture ?');">
                            <i class="bi bi-trash"></i>
                        </button>
                    </form>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="2" class="text-center text-muted">Aucune culture enregistrée.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}